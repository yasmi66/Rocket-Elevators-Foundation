<%= form_with(model: intervention, local: true) do |f| %>
  <% if intervention.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(intervention.errors.count, "error") %> prohibited this intervention from being saved:</h2>

      <ul>
      <% intervention.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

        <fieldset>
            <%# Customer Selection %>
            <div id="customer">
              <%= f.label :customer_id, "Please select a customer." %>
              <%= f.collection_select :customer_id, Customer.order(:CompanyName), :id, :CompanyName %>
            </div>

            <%# Buildings Dropdown %>
            <div class="row">
                <div class="col-md-6" id="building-list">
                    <%= f.label :building, "Please select the customer's building." %>
                    <%= select_tag "building", options_from_collection_for_select(Building.all, "id", "id"), prompt: "--- Select ---", :required => true %>
                    <hr />
                </div>
            </div>

            <%# Batteries Dropdown %>
            <div class="row">
                <div class="col-md-6" id="battery-list">

                    <label for="battery">Please select the building's battery.</label>
                    <%= select_tag "battery", options_from_collection_for_select(Battery.all, "id", "id"), prompt: "--- Select ---", :required => true %>
                    <hr />
                </div>
            </div>

            <%# Column Dropdown %>
            <div class="row">
                <div class="col-md-6" id="column-list">
                    <label for="column">Please select the battery's column.</label>
                    <%= select_tag "column", options_from_collection_for_select(Column.all, "id", "id"), prompt: "None" %>
                    <hr />
                </div>
            </div>

            <%# Elevator Selection %>
            <div class="row">
                <div class="col-md-6" id="elevator-list">
                    <label for="elevator">Please select the column's elevator.</label>
                    <%= select_tag "elevator", options_from_collection_for_select(Elevator.all, "id", "id"), prompt: "None" %>
                    <hr />
                </div>
            </div>

            <%# Employee Selction %>
            <div>
              <%= f.label :employee_id, "Please select an employee." %>
              <%= f.collection_select :employee_id, Employee.order(:title), :id, :title %>
            </div>
          <hr>  

            <div class="row">
                <div class="col-md-6" id="desc">

                    <label for="description">Please describe the intervention.</label>
                    <%= text_field_tag :desc, "", class: 'form-control', :required => true%>
                </div>
            </div>
        </fieldset>

        <input class="btn btn-success btn-md" type="submit" value="Submit">
        <hr />
    </div>
</form>
<% end %>